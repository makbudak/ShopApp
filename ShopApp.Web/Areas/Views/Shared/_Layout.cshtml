@using Microsoft.AspNetCore.Http;

<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Admin Paneli - @ViewBag.Title</title>
    <link rel="stylesheet" href="~/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/element-ui.css" />
    @RenderSection("Styles", false)
    <link rel="stylesheet" href="~/css/style.css" />
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom" id="navbar">
        <div class="container-fluid">
            <div>
                <span class="btn btn-primary btn-sm" v-on:click="menuShow()">
                    <i class="el-icon-s-unfold"></i> Menü
                </span>
                <a class="navbar-brand ms-3" href="/Admin/Home">Admin Paneli</a>
            </div>
            <div class="d-flex float-end">
                <ul class="navbar-nav me-auto mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-dark" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="el-icon-user fw-bold"></i>
                            @Context.Session.GetString("UserName")
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" target="_blank" href="/">Siteye Git</a></li>
                            <li><a class="dropdown-item" href="/Account/Logout">Çıkış Yap</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <el-drawer title="Menü"
                   v-model="showDrawer"
                   :direction="direction">
            <div class="px-2">

                <el-input placeholder="Menüde Ara" v-model="filterText"> </el-input>

                <el-tree class="mt-3"
                         :data="menuItems"
                         :props="defaultProps"
                         default-expand-all
                         :filter-node-method="filterNode"
                         ref="tree">
                    <template #default="{ node, data }">
                        <div class="m-2">
                            <a class="text-decoration-none text-dark" v-bind:href="data.url"> {{ node.label }}</a>
                        </div>
                    </template>
                </el-tree>
            </div>
        </el-drawer>
    </nav>
    <div class="container-fluid mt-3 mb-5" id="app">
        @RenderBody()
    </div>

    <script type="application/javascript" src="~/js/lib/bootstrap.bundle.min.js"></script>
    <script type="application/javascript" src="~/js/lib/vue-3.js"></script>
    <script type="application/javascript" src="~/js/lib/element-ui.js"></script>
    <script type="application/javascript" src="~/js/lib/axios.min.js"></script>
    @RenderSection("Scripts", false)
    <script type="application/javascript" src="~/js/pages/admin/global.js"></script>
</body>
</html>
