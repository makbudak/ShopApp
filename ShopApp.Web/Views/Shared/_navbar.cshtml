@using Microsoft.AspNetCore.Http;

<div class="navbar navbar-expand-md navbar-light bg-light border-bottom fixed-top" id="navbar">
    <div class="container">
        <a href="/" class="navbar-brand text-dark">Shop App</a>
        <button class="navbar-toggler" type="button" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" v-on:click="leftMenuShow()">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav me-auto my-2 my-lg-0">
                <li class="nav-item">

                </li>
            </ul>

            @if (Context.Session.GetInt32("CustomerId") != null)
            {
                <el-row>
                    <el-dropdown>
                        <div class="el-dropdown-link me-2">
                            <el-button round size="small">
                                <i class="el-icon-user"></i>
                                @Context.Session.GetString("CustomerName")
                                <i class="el-icon-arrow-down"></i>
                            </el-button>
                        </div>
                        <template #dropdown>
                            <el-dropdown-menu>
                                <el-dropdown-item>
                                    <a class="text-decoration-none text-dark" href="/account/profile">Hesabım</a>
                                </el-dropdown-item>
                                <el-dropdown-item>
                                    <a class="text-decoration-none text-dark" href="/account/orders">Siparişlerim</a>
                                </el-dropdown-item>
                                <el-dropdown-item>
                                    <a class="text-decoration-none text-dark" href="/account/logout">Çıkış Yap</a>
                                </el-dropdown-item>
                            </el-dropdown-menu>
                        </template>
                    </el-dropdown>
                    <el-button v-on:click="goCart()" class="border ms-2" icon="el-icon-shopping-cart-1" round size="small">
                        Sepetim
                    </el-button>
                </el-row>
            }
            else
            {
                <el-row>
                    <el-dropdown>
                        <span class="el-dropdown-link">
                            <el-button icon="el-icon-user" round size="small">Giriş Yap</el-button>
                        </span>
                        <template #dropdown>
                            <el-dropdown-menu>
                                <el-dropdown-item>
                                    <a class="text-decoration-none text-dark" href="/account/login">Giriş Yap</a>
                                </el-dropdown-item>
                                <el-dropdown-item>
                                    <a class="text-decoration-none text-dark" href="/admin/login">Yönetici Girişi</a>
                                </el-dropdown-item>
                                <el-dropdown-item>
                                    <a class="text-decoration-none text-dark" href="/account/register">Üye Ol</a>
                                </el-dropdown-item>
                            </el-dropdown-menu>
                        </template>
                    </el-dropdown>
                    <el-button v-on:click="goCart()" class="border ms-2" icon="el-icon-shopping-cart-1" round size="small">
                        Sepetim
                    </el-button>
                </el-row>
            }
        </div>
    </div>
    <el-drawer v-model="leftMenuDrawer"
               title="Menü"
               direction="ltr"
               size="95%">
        <div class="p-3 border-top">

            @if (Context.Session.GetInt32("CustomerId") != null)
            {
                <p>
                    <el-link href="/account/profile">Hesabım</el-link>
                </p>
                <p>
                    <el-link href="/account/orders">Siparişlerim</el-link>
                </p>
                <p>
                    <el-link href="/account/logout">Çıkış Yap</el-link>
                </p>
            }
            else
            {
                <p>
                    <el-link href="/account/login">Giriş Yap</el-link>
                </p>
                <p>
                    <el-link href="/admin/login">Yönetici Girişi</el-link>
                </p>
                <p>
                    <el-link href="/account/register">Üye Ol</el-link>
                </p>
            }
        </div>
    </el-drawer>

</div>